<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Babelshark: StaticTreeVisitor Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.9 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>StaticTreeVisitor Class Reference</h1><!-- doxytag: class="StaticTreeVisitor" --><!-- doxytag: inherits="TreeVisitor" --><div class="dynheader">
Inheritance diagram for StaticTreeVisitor:</div>
<div class="dynsection">

<p><center><img src="class_static_tree_visitor.png" usemap="#StaticTreeVisitor_map" border="0" alt=""></center>
<map name="StaticTreeVisitor_map">
<area href="class_tree_visitor.html" alt="TreeVisitor" shape="rect" coords="0,56,106,80">
<area href="class_p_d_i_1_1_const_visitor.html" alt="PDI::ConstVisitor" shape="rect" coords="0,0,106,24">
</map>
</div>

<p>
<a href="class_static_tree_visitor-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_static_tree_visitor.html#0db58b725854b716a847e4addebd7d92">StaticTreeVisitor</a> (const std::string &amp;sName, bool bDisplayOutputToScreen=false)</td></tr>

<tr><td colspan="2"><br><h2>Private Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_static_tree_visitor.html#3e661b2e248b2e47cbb5b20ef2d045cc">Visit</a> (const <a class="el" href="class_p_d_i_1_1_array.html">PDI::Array</a> &amp;array)</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
The <a class="el" href="class_static_tree_visitor.html">StaticTreeVisitor</a> class is used to visit (iterate over) each item in a Statictype Tree. A statictype tree is created for each statictype in a <a class="el" href="namespace_p_d_i.html">PDI</a> File. When a node on the tree is visited, an instruction is created forming an Instruction Tree. The Wireshark dissector will use the instruction tree created by this class when it is referred to by its alias in another instruction.<p>
Usage: After a file has been read in by calling the following parser functions... Element elemRoot = DisplayElement(); Reader::Read(elemRoot, std::ifstream("AvatarsInRoom.txt")); then the following function can be called to create a statictype instruction tree. <a class="el" href="class_static_tree_visitor.html">StaticTreeVisitor</a> <a class="el" href="class_static_tree_visitor.html">StaticTreeVisitor</a>(elemRoot.Name()); Note that the root element name must be passed into the <a class="el" href="class_static_tree_visitor.html">StaticTreeVisitor</a> in order to get the name of the statictype to be included in the first instruction in the instruction tree.<p>
If a second parameter is provided, which is boolean, this will be used to determine if unit test / debug data should be written to cout. If the parameter is true then data will be displayed. If the parameter is false, or is not provided, then data will not be displayed.<p>
<a class="el" href="class_static_tree_visitor.html">StaticTreeVisitor</a> inherits from <a class="el" href="class_tree_visitor.html">TreeVisitor</a>. The only difference is that when the <a class="el" href="class_static_tree_visitor.html">StaticTreeVisitor</a> Visit function is called on an array, the resultant InstructionSet is added to the DataDictionary. <hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="0db58b725854b716a847e4addebd7d92"></a><!-- doxytag: member="StaticTreeVisitor::StaticTreeVisitor" ref="0db58b725854b716a847e4addebd7d92" args="(const std::string &amp;sName, bool bDisplayOutputToScreen=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">StaticTreeVisitor::StaticTreeVisitor           </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>sName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>bDisplayOutputToScreen</em> = <code>false</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This is the constructor for <a class="el" href="class_static_tree_visitor.html">StaticTreeVisitor</a> class.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>sName</em>&nbsp;</td><td>the name of the root node. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>bDisplayOutputToScreen</em>&nbsp;</td><td>(optional) should be true if you want output to the screen for testing</td></tr>
  </table>
</dl>
A function map is initialized in the constructor using a template. This will make the addition of new types easier. 
</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="3e661b2e248b2e47cbb5b20ef2d045cc"></a><!-- doxytag: member="StaticTreeVisitor::Visit" ref="3e661b2e248b2e47cbb5b20ef2d045cc" args="(const PDI::Array &amp;array)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void StaticTreeVisitor::Visit           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_p_d_i_1_1_array.html">PDI::Array</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>array</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, private, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<a class="el" href="class_static_tree_visitor.html#3e661b2e248b2e47cbb5b20ef2d045cc">Visit()</a> iterates over all items in the array. It calls a visit function on each item. It passes in the name of the array for the same reason that we needed to pass the name of the root node into the constructor, so that it would be available to use when we create the instruction.<p>
Each item in the array is added to an instruction set.<p>
This function is a duplicate of the <a class="el" href="class_tree_visitor.html">TreeVisitor</a> Visit function on an array, however, with two differences. The InstructionSet is added to the DataDictionary at the end of the function. Also this function does not call itself when an array is inside an array. Instead it calls the <a class="el" href="class_tree_visitor.html">TreeVisitor</a> function this is because we don't want to add the internal array to the DataDictionary. 
<p>Reimplemented from <a class="el" href="class_tree_visitor.html#9d9bcb690e82d4ce37a60cb719080728">TreeVisitor</a>.</p>

</div>
</div><p>
<hr>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="_static_tree_visitor_8h_source.html">StaticTreeVisitor.h</a></ul>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Mon Jul 6 00:35:32 2009 for Babelshark by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.9 </small></address>
</body>
</html>
